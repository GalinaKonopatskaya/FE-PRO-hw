<%- include ('layout/header.ejs'); -%>


  <div class="container">
    <h1>Home</h1>
    <div class="slider">
      <div class="slider-line">
        <% products.forEach(function(product){%>

          <img src="../images/img/<%= product.url %>">

          <% }) %>


      </div>
    </div>
    <div class="button-grup">
      <button class="slider-prev">Prev</button>
      <button class="slider-next">Next</button>
    </div>


    <div class="serch-priсe">
      <label>
        <span>Цена от</span>
        <input id="priсe-from" type="number" min="0" value="1">
        <span>Цена до</span>
        <input id="priсe-to" type="number" min="0" value="1001">
      </label>
      <button type="button" id="init-serch">Сортировать по цене</button>

    </div>


    <div id="productList">
      <% products.forEach(function(product){ %>
        <div class="product-card" data-cost="<%= product.cost %>" data-product_id="<%= product.id %>">

          <figure>

            <img class="product-img" src="../images/img/<%= product.url %>">

            <figcaption>
              <a href="/product?id=<%= product.id %>&name=<%= product.name %>">
                <h2>
                  <%= product.name %>
                </h2>
              </a>
              <div class="cost">
                <p class="prise"> Цена за 1шт. <%= product.cost %>
                </p>
                <p class="total-prise" data-product_id="<%= product.id %>"> Итого: <span class="totalCost"> 00.00
                  </span> </p>

              </div>
              <div class="cart">
                <div class="number">

                  <button class="quantity-change number-minus" type="button"
                    onclick="this.nextElementSibling.stepDown();this.nextElementSibling.dispatchEvent(new Event('change'));">-</button>

                  <input class="input" placeholder="0" data-cost="<%= product.cost %>"
                    data-product_id="<%= product.id %>" data-action="Change-quantity" type="number" min="0" value="">

                  <button class="quantity-change number-plus" type="button"
                    onclick="this.previousElementSibling.stepUp(); this.previousElementSibling.dispatchEvent(new Event('change'));">+</button>

                </div>

                <button class="buyBtn" data-product_id="<%= product.id %>" data-cost="<%= product.cost %>"
                  data-action="addToCart" type="button">

                  В корзину</button>

              </div>
            </figcaption>

          </figure>

        </div>
        <% }); %>

    </div>




    <%- include ('layout/footer.ejs'); -%>